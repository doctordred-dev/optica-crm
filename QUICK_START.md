# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - Optika CRM Backend

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —É–ª—É—á—à–µ–Ω–æ

1. ‚ú® **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - 5 –Ω–æ–≤—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
2. üîç **–ü–æ–∏—Å–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤** - —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
3. üì§ **–≠–∫—Å–ø–æ—Ä—Ç –≤ CSV** - –∫–ª–∏–µ–Ω—Ç—ã, –∑–∞–∫–∞–∑—ã, –ø—Ä–æ–¥–∞–∂–∏
4. üõçÔ∏è **–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤** - –Ω–æ–≤–∞—è –º–æ–¥–µ–ª—å Product
5. üìö **API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

---

## üèÉ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É backend
cd backend

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
npm install

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:7001`

---

## üåê –î–µ–ø–ª–æ–π –Ω–∞ Render

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π:
1. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```bash
git add .
git commit -m "Add analytics, export, products catalog"
git push origin main
```

2. Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è:
```bash
curl https://your-app.onrender.com/api/health
```

---

## üì° –ù–æ–≤—ã–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
- `GET /api/analytics/sales` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂
- `GET /api/analytics/employees` - –ü–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º
- `GET /api/analytics/brands` - –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –±—Ä–µ–Ω–¥—ã
- `GET /api/analytics/overview` - Dashboard
- `GET /api/analytics/clients` - –ü–æ –∫–ª–∏–µ–Ω—Ç–∞–º

### –≠–∫—Å–ø–æ—Ä—Ç
- `GET /api/export/clients` - –ö–ª–∏–µ–Ω—Ç—ã –≤ CSV
- `GET /api/export/orders` - –ó–∞–∫–∞–∑—ã –≤ CSV
- `GET /api/export/sales` - –ü—Ä–æ–¥–∞–∂–∏ –≤ CSV

### –¢–æ–≤–∞—Ä—ã
- `GET /api/products` - –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
- `POST /api/products` - –°–æ–∑–¥–∞—Ç—å —Ç–æ–≤–∞—Ä
- `GET /api/products/popular/:type` - –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ
- `GET /api/products/low-stock` - –ù–∏–∑–∫–∏–π –æ—Å—Ç–∞—Ç–æ–∫

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API

### –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É:
```bash
curl -X POST http://localhost:7001/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@optica.com","password":"your_password"}'
```

### –ü–æ–ª—É—á–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É:
```bash
curl http://localhost:7001/api/analytics/overview \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### –≠–∫—Å–ø–æ—Ä—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤:
```bash
curl http://localhost:7001/api/export/clients \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -o clients.csv
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `FRONTEND_API_GUIDE.md` - —Ç–∞–º –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏.

### –î–ª—è –±—ç–∫–µ–Ω–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
- `BACKEND_DESIGN.md` - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- `IMPROVEMENTS_SUMMARY.md` - —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
1. **–£–¥–∞–ª–∏—Ç–µ `.env` –∏–∑ git:**
```bash
git rm --cached backend/.env
echo "backend/.env" >> .gitignore
git commit -m "Remove .env from git"
```

2. **–°–º–µ–Ω–∏—Ç–µ –≤—Å–µ –ø–∞—Ä–æ–ª–∏ –∏ —Ç–æ–∫–µ–Ω—ã**

3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Render**

---

## üéØ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–æ–º.

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ü–µ—Ä–µ–¥–∞–π—Ç–µ `FRONTEND_API_GUIDE.md` —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫—É.
